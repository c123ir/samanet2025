# โ ฺฺฉโูุณุช ูุฑฺู 4.0 - ูุฏุฑุช ุงุณูุงุฏ ู ุชุตุงูุฑ

**ุชุงุฑุฎ ุดุฑูุน:** 1404/10/16  
**ุชุงุฑุฎ ูุฏู:** 1404/11/01  
**ูุถุนุช:** ๐ ุขูุงุฏู ุดุฑูุน  
**ูพุดโูุงุฒ:** โ ูุฑฺู 3.0 ุชฺฉูู ุดุฏู

---

## ๐ฏ **ูุฏู ูุงุฒ 4**

ูพุงุฏูโุณุงุฒ ุณุณุชู ุฌุงูุน ูุฏุฑุช ุงุณูุงุฏ ู ุชุตุงูุฑ ุดุงูู ุขูพููุฏ ฺูุฏฺฏุงููุ ูุงุชุฑูุงุฑฺฉ ุฎูุฏฺฉุงุฑุ ฺฏุงูุฑ ูพุดุฑูุชู ู ูุดุฑุฏูโุณุงุฒ ุชุตุงูุฑ.

---

## ๐ **ฺฺฉโูุณุช ฺฉุงูู ูุงุฒ 4**

### **๐๏ธ ูุฑุญูู 1: Database Schema (ุฑูุฒ 1)**

- [ ] **ุงุฌุงุฏ ุฌุฏูู documents:**
  ```sql
  CREATE TABLE IF NOT EXISTS documents (
      id INT AUTO_INCREMENT PRIMARY KEY,
      request_id INT NOT NULL,
      original_name VARCHAR(255) NOT NULL,
      file_path VARCHAR(500) NOT NULL,
      file_type VARCHAR(50) NOT NULL,
      file_size INT NOT NULL,
      thumbnail_path VARCHAR(500) DEFAULT NULL,
      watermark_applied BOOLEAN DEFAULT FALSE,
      uploaded_by INT NOT NULL,
      upload_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
      deleted_at TIMESTAMP NULL
  );
  ```

- [ ] **ุงุฌุงุฏ indexes ุจุฑุง performance:**
  ```sql
  CREATE INDEX idx_documents_request ON documents(request_id);
  CREATE INDEX idx_documents_type ON documents(file_type);
  CREATE INDEX idx_documents_uploader ON documents(uploaded_by);
  ```

- [ ] **Foreign key constraints:**
  ```sql
  ALTER TABLE documents 
  ADD CONSTRAINT fk_doc_request 
  FOREIGN KEY (request_id) REFERENCES payment_requests(id);
  ```

### **๐ ูุฑุญูู 2: File Structure (ุฑูุฒ 1)**

- [ ] **ุงุฌุงุฏ ุณุงุฎุชุงุฑ ูพูุดูโูุง ุขูพููุฏ:**
  ```
  upld/
  โโโ documents/
  โ   โโโ 2024/
  โ   โ   โโโ 10/      # ูุงู
  โ   โ   โโโ 11/
  โ   โโโ thumbs/      # Thumbnails
  โ   โโโ watermarked/ # ูุงุชุฑูุงุฑฺฉ ุดุฏู
  ```

- [ ] **ุชูุธู ูุฌูุฒูุง ูููุฏุฑูุง:**
  ```bash
  chmod 755 upld/documents/
  chmod 755 upld/thumbs/
  chmod 755 upld/watermarked/
  ```

- [ ] **ุงุฌุงุฏ .htaccess ุจุฑุง ุงููุช:**
  ```apache
  # upld/.htaccess
  Options -Indexes
  <Files "*.php">
      Order allow,deny
      Deny from all
  </Files>
  ```

### **๐จ ูุฑุญูู 3: Document Model (ุฑูุฒ 2)**

- [ ] **ุงุฌุงุฏ app/models/Document.php:**
  - [ ] ูุชุฏ `uploadMultiple()` - ุขูพููุฏ ฺูุฏฺฏุงูู
  - [ ] ูุชุฏ `applyWatermark()` - ุงุนูุงู ูุงุชุฑูุงุฑฺฉ
  - [ ] ูุชุฏ `generateThumbnail()` - ุงุฌุงุฏ thumbnail
  - [ ] ูุชุฏ `compressImage()` - ูุดุฑุฏูโุณุงุฒ
  - [ ] ูุชุฏ `getDocumentsByRequest()` - ุฏุฑุงูุช ุงุณูุงุฏ ุฏุฑุฎูุงุณุช
  - [ ] ูุชุฏ `deleteDocument()` - ุญุฐู ุงูู ูุงู

- [ ] **ูพุงุฏูโุณุงุฒ validation:**
  - [ ] ุจุฑุฑุณ ููุน ูุงู (jpg, png, pdf, doc, docx)
  - [ ] ุจุฑุฑุณ ุงูุฏุงุฒู ูุงู (ุญุฏุงฺฉุซุฑ 10MB)
  - [ ] ุจุฑุฑุณ ุงุจุนุงุฏ ุชุตูุฑ
  - [ ] scan ูุฑูุณ (ุงุฎุชุงุฑ)

### **๐๏ธ ูุฑุญูู 4: Document Controller (ุฑูุฒ 2-3)**

- [ ] **ุงุฌุงุฏ app/controllers/DocumentController.php:**
  - [ ] `upload()` - ุตูุญู ุขูพููุฏ
  - [ ] `store()` - ูพุฑุฏุงุฒุด ุขูพููุฏ
  - [ ] `gallery()` - ฺฏุงูุฑ ุงุณูุงุฏ
  - [ ] `download()` - ุฏุงูููุฏ ูุงู
  - [ ] `delete()` - ุญุฐู ูุงู
  - [ ] `preview()` - ูพุดโููุงุด

- [ ] **API endpoints:**
  - [ ] `POST /api/documents/upload` - ุขูพููุฏ AJAX
  - [ ] `GET /api/documents/request/{id}` - ุงุณูุงุฏ ุฏุฑุฎูุงุณุช
  - [ ] `DELETE /api/documents/{id}` - ุญุฐู ุณูุฏ
  - [ ] `GET /api/documents/{id}/thumbnail` - thumbnail

### **๐ผ๏ธ ูุฑุญูู 5: ุขูพููุฏ ฺูุฏฺฏุงูู UI (ุฑูุฒ 3-4)**

- [ ] **ุงุฌุงุฏ ุตูุญู ุขูพููุฏ:**
  - [ ] Drag & Drop zone
  - [ ] Progress bar ุจุฑุง ูุฑ ูุงู
  - [ ] Preview ุชุตุงูุฑ ุงูุชุฎุงุจ
  - [ ] ูุณุช ูุงูโูุง ุงูุชุฎุงุจ ุดุฏู
  - [ ] ฺฏุฒููโูุง ูุงุชุฑูุงุฑฺฉ

- [ ] **JavaScript functionality:**
  ```javascript
  class MultiFileUploader {
      // Drag & Drop handling
      // File validation
      // Progress tracking
      // Error handling
  }
  ```

- [ ] **CSS responsive:**
  - [ ] ุทุฑุงุญ ููุจุงู ุจุฑุง ุขูพููุฏ
  - [ ] ุงููุดูโูุง drag & drop
  - [ ] ุงุณุชุงู progress bars

### **๐ง ูุฑุญูู 6: ุณุณุชู ูุงุชุฑูุงุฑฺฉ (ุฑูุฒ 4-5)**

- [ ] **ูพุงุฏูโุณุงุฒ ูุงุชุฑูุงุฑฺฉ:**
  - [ ] ุงุณุชูุงุฏู ุงุฒ Intervention Image
  - [ ] ูููุนุชโูุง ูุฎุชูู (ฺฏูุดูโูุงุ ูุฑฺฉุฒ)
  - [ ] ุชูุธู ุดูุงูุช (20%-80%)
  - [ ] ุญูุธ ฺฉูุช ุงุตู

- [ ] **ุชูุธูุงุช ูุงุชุฑูุงุฑฺฉ:**
  - [ ] ุขูพููุฏ ููฺฏู ุดุฑฺฉุช
  - [ ] ุงูุชุฎุงุจ ูููุนุช
  - [ ] ุชูุธู ุงูุฏุงุฒู
  - [ ] ูพุดโููุงุด ูุงุชุฑูุงุฑฺฉ

### **๐ผ๏ธ ูุฑุญูู 7: ฺฏุงูุฑ ูพุดุฑูุชู (ุฑูุฒ 5-6)**

- [ ] **ูพุงุฏูโุณุงุฒ Lightbox:**
  - [ ] ููุงุด ุชูุงูโุตูุญู
  - [ ] Navigation ุจู ุชุตุงูุฑ
  - [ ] Zoom ู pan
  - [ ] ุฏุงูููุฏ ูุณุชูู
  - [ ] ุงุทูุงุนุงุช ูุชุงุฏุชุง

- [ ] **UI ฺฏุงูุฑ:**
  - [ ] Grid layout responsive
  - [ ] Lazy loading
  - [ ] ููุชุฑ ุจุฑ ุงุณุงุณ ููุน ูุงู
  - [ ] ุฌุณุชุฌู ุฏุฑ ูุงู ูุงู

### **โก ูุฑุญูู 8: ูุดุฑุฏูโุณุงุฒ ู ุจูููโุณุงุฒ (ุฑูุฒ 6-7)**

- [ ] **ูพุงุฏูโุณุงุฒ ูุดุฑุฏูโุณุงุฒ:**
  - [ ] ฺฉุงูุด ุงูุฏุงุฒู ุจุฏูู ุงูุช ฺฉูุช
  - [ ] ุชููุฏ thumbnail ุฎูุฏฺฉุงุฑ
  - [ ] ุชุจุฏู ูุฑูุช (WebP ุจุฑุง ูุจ)
  - [ ] Progressive JPEG

- [ ] **ุชูุธูุงุช ฺฉูุช:**
  - [ ] ุงูุชุฎุงุจ ฺฉูุช ูุดุฑุฏูโุณุงุฒ
  - [ ] ุชูุธู ุงุจุนุงุฏ thumbnail
  - [ ] ุญุฏุงฺฉุซุฑ ุงุจุนุงุฏ ุชุตุงูุฑ

### **๐ ูุฑุญูู 9: ฺฉูพุงุฑฺฺฏ ุจุง ุณุณุชู (ุฑูุฒ 7-8)**

- [ ] **ุงุชุตุงู ุจู ุตูุญู ุฌุฒุฆุงุช ุฏุฑุฎูุงุณุช:**
  - [ ] ููุงุด ุงุณูุงุฏ ุฏุฑ view.php
  - [ ] ุขูพููุฏ ุงุฒ ุตูุญู ุฌุฒุฆุงุช
  - [ ] ูุฏุฑุช ุงุณูุงุฏ inline

- [ ] **ุจุฑูุฒุฑุณุงู ูุฏู Request:**
  - [ ] ุฑุงุจุทู ุจุง ุฌุฏูู documents
  - [ ] ุดูุงุฑุด ุงุณูุงุฏ
  - [ ] ุขูุงุฑ ุญุฌู ูุงูโูุง

### **๐ฑ ูุฑุญูู 10: Mobile UI (ุฑูุฒ 8-9)**

- [ ] **ุจูููโุณุงุฒ ููุจุงู:**
  - [ ] ุขูพููุฏ touch-friendly
  - [ ] ฺฏุงูุฑ ููุจุงู
  - [ ] Preview ุชุตุงูุฑ ฺฉูฺฺฉ
  - [ ] ุฏฺฉููโูุง ุจุฒุฑฺฏ ุจุฑุง touch

- [ ] **Progressive Web App:**
  - [ ] Service Worker ุจุฑุง cache
  - [ ] Offline gallery viewing
  - [ ] Background upload

### **๐ ูุฑุญูู 11: ุงููุช ู validation (ุฑูุฒ 9-10)**

- [ ] **ุงููุช ูุงู:**
  - [ ] ุจุฑุฑุณ magic bytes
  - [ ] ูุญุฏูุฏุช ููุน ูุงู
  - [ ] scan malware (ุงุฎุชุงุฑ)
  - [ ] ุชููุฏ ูุงู ูุงู ุงูู

- [ ] **ูุญุฏูุฏุชโูุง:**
  - [ ] ูุญุฏูุฏุช ุชุนุฏุงุฏ ูุงู
  - [ ] ูุญุฏูุฏุช ุญุฌู ฺฉู
  - [ ] Rate limiting ุจุฑุง ุขูพููุฏ

### **๐งช ูุฑุญูู 12: ุชุณุช ู ุจูููโุณุงุฒ (ุฑูุฒ 10-11)**

- [ ] **ุชุณุชโูุง ุนููฺฉุฑุฏ:**
  - [ ] ุขูพููุฏ ูุงูโูุง ูุฎุชูู
  - [ ] ุชุณุช ูุงุชุฑูุงุฑฺฉ
  - [ ] ุชุณุช ฺฏุงูุฑ
  - [ ] ุชุณุช ููุจุงู

- [ ] **ุชุณุช ุงููุช:**
  - [ ] ุขูพููุฏ ูุงูโูุง ูุฎุฑุจ
  - [ ] Directory traversal
  - [ ] File inclusion

### **๐ ูุฑุญูู 13: ูุณุชูุฏุณุงุฒ (ุฑูุฒ 11-12)**

- [ ] **ูุณุชูุฏุงุช ฺฉุงุฑุจุฑ:**
  - [ ] ุฑุงูููุง ุขูพููุฏ ูุงู
  - [ ] ุฑุงูููุง ฺฏุงูุฑ
  - [ ] ุฑุงูููุง ูุงุชุฑูุงุฑฺฉ

- [ ] **ูุณุชูุฏุงุช ูู:**
  - [ ] API documentation
  - [ ] Database schema
  - [ ] Configuration guide

### **๐ ูุฑุญูู 14: deployment (ุฑูุฒ 12-14)**

- [ ] **ุขูุงุฏูโุณุงุฒ production:**
  - [ ] ุชูุธู permissions
  - [ ] optimized assets
  - [ ] error handling
  - [ ] logging system

- [ ] **Migration script:**
  - [ ] ุงุณฺฉุฑูพุช ุจุฑูุฒุฑุณุงู ุฏุชุงุจุณ
  - [ ] ุงุฌุงุฏ ูพูุดูโูุง ุถุฑูุฑ
  - [ ] ุชูุธู ุงููู

---

## ๐ฏ **Milestones**

### **Milestone 1: Core Upload (ุฑูุฒ 1-4)**
- โ Database setup
- โ Basic file upload
- โ File validation

### **Milestone 2: Advanced Features (ุฑูุฒ 5-8)**
- โ Watermark system
- โ Gallery implementation
- โ Image compression

### **Milestone 3: Integration (ุฑูุฒ 9-11)**
- โ Request integration
- โ Mobile optimization
- โ Security hardening

### **Milestone 4: Release (ุฑูุฒ 12-14)**
- โ Testing complete
- โ Documentation ready
- โ Production deployment

---

## โ๏ธ **ุฑุณฺฉโูุง ู ฺุงูุดโูุง**

### **๐ด ุฑุณฺฉโูุง ุจุงูุง:**
- **ุญุฌู ูุงูโูุง:** ูุญุฏูุฏุช ุณุฑูุฑ ุงุดุชุฑุงฺฉ
- **Performance:** ูพุฑุฏุงุฒุด ุชุตุงูุฑ ุณูฺฏู
- **Storage:** ูุถุง ูุญุฏูุฏ ุฏุณฺฉ

### **๐ก ุฑุณฺฉโูุง ูุชูุณุท:**
- **Browser compatibility:** ูพุดุชุจุงู ูุฏู
- **Mobile performance:** ุขูพููุฏ ุฑู ุดุจฺฉู ุขูุณุชู
- **Security:** ูุงูโูุง ูุฎุฑุจ

### **๐ข ุฑุณฺฉโูุง ูพุงู:**
- **UI/UX:** ุทุฑุงุญ ฺฏุงูุฑ
- **Integration:** ุงุชุตุงู ุจู ุณุณุชู ููุฌูุฏ

---

## ๐ **ุขูุงุฑ ุงูุชุธุงุฑ ูุฑฺู 4.0**

### **ฺฉุฏ ุฌุฏุฏ:**
- **ุฎุทูุท PHP:** 1,500+ ุฎุท
- **ุฎุทูุท JavaScript:** 800+ ุฎุท
- **ุฎุทูุท CSS:** 500+ ุฎุท
- **ูุงูโูุง ุฌุฏุฏ:** 12+ ูุงู

### **ูฺฺฏโูุง:**
- **ุขูพููุฏ ฺูุฏฺฏุงูู:** โ
- **ุณุณุชู ูุงุชุฑูุงุฑฺฉ:** โ
- **ฺฏุงูุฑ Lightbox:** โ
- **ูุดุฑุฏูโุณุงุฒ:** โ
- **Mobile Support:** โ

### **Performance:**
- **Upload Speed:** ุจูููโุณุงุฒ ุดุฏู
- **Gallery Load:** < 1 ุซุงูู
- **Mobile Performance:** 90/100+
- **Security Score:** A+

---

## โ **ุชุนุฑู ููููุช**

### **ูุนุงุฑูุง ุชฺฉูู:**
- [ ] ุขูพููุฏ 10 ูุงู ููุฒูุงู ุจุฏูู ุฎุทุง
- [ ] ูุงุชุฑูุงุฑฺฉ ุฑู ุชูุงู ุงููุงุน ุชุตุงูุฑ
- [ ] ฺฏุงูุฑ ุฑูุงู ุฑู ููุจุงู
- [ ] ูุดุฑุฏูโุณุงุฒ ุจุฏูู ุงูุช ฺฉูุช ูุญุณูุณ
- [ ] ุงููุช ฺฉุงูู ูุงูโูุง

### **User Acceptance:**
- [ ] ฺฉุงุฑุจุฑุงู ุจุชูุงููุฏ ุขุณุงู ุขูพููุฏ ฺฉููุฏ
- [ ] ูุฏุฑุงู ุฑุงุญุช ุงุณูุงุฏ ูุฏุฑุช ฺฉููุฏ
- [ ] ููุจุงู ฺฉุงููุงู ูุงุจู ุงุณุชูุงุฏู ุจุงุดุฏ

---

## ๐ **ูุงุฒ ุจุนุฏ (5.0)**

### **ุขูุงุฏูโุณุงุฒ ุจุฑุง ูุฑฺู 5:**
- [ ] ุฌุฏูู workflow_history
- [ ] ูพุงู ุณุณุชู ุชุงุฏ
- [ ] notification system

---

**๐ ุชุงุฑุฎ ุงุฌุงุฏ:** 1404/10/15  
**๐ฏ ูุฏู ุดุฑูุน:** 1404/10/16  
**โฐ ูููุช ุชฺฉูู:** 1404/11/01  
**๐ ูุถุนุช:** ุขูุงุฏู ุงุฌุฑุง

**๐ก ูฺฉุชู:** ุงู ฺฺฉโูุณุช ุจุงุฏ ุฑูุฒุงูู ุจุฑูุฒุฑุณุงู ุดูุฏ ู ูพุดุฑูุช ูุงูุน ุฏุฑ ุขู ุซุจุช ุดูุฏ. 